---
import Layout from "../layouts/Layout.astro";
import Navbar from "../components/Navbar.astro";
import Project from "../components/Project.astro";
import Footer from "../components/Footer.astro";
import { CONTACTS, PROJECTS, PAGECONTENT } from "../data";
import { Icon } from "astro-icon";

export function getStaticPaths() {
	const pages = [
		{
			slug: undefined,
			lang: "en",
		},
		{
			slug: "en",
			lang: "en",
		},
		{
			slug: "es",
			lang: "es",
		},
	];

	return pages.map(({ slug, lang }) => {
		return {
			params: { slug },
			props: { lang },
		};
	});
}

interface Props {
	lang: "en" | "es";
}

const { lang } = Astro.props;
---

<Layout title="Pablo Villarroel - Software Engineer">
	<div class="bg-black text-gray-100 text-center py-2">
		<p>currently in development</p>
	</div>
	<main class="w-full px-4 md:max-w-6xl md:m-auto">
		<Navbar lang={lang} />
		<div class="flex flex-col gap-10 lg:mt-8">
			<div
				class="flex flex-col lg:flex-row w-full justify-between gap-10 lg:gap-0"
			>
				<section id="home" class="flex gap-5 flex-col md:max-w-4xl">
					<div class="max-w-3xl flex">
						<h1
							class="py-4 text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-600 text-4xl md:text-6xl font-bold"
						>
							{PAGECONTENT[lang].title}
						</h1>
					</div>
					{
						PAGECONTENT[lang].description.map((paragraph) => (
							<p class="max-w-3xl text-xl text-justify">{paragraph}</p>
						))
					}
					<div class="flex gap-3 items-center">
						<a
							class="hover:-translate-y-1 hover:shadow-2xl bg-black text-white py-2 px-6 rounded-md transition-all"
							target="_blank"
							href={"https://docs.google.com/document/d/1xa9UIY9VXdLW8a-D5NGnUd-NSonwUVlNbnpOmSzTOt4/edit?usp=share_link"}
						>
							{PAGECONTENT[lang].cv}
						</a>
					</div>
				</section>
				<div class="flex items-center">
					<img src="/profile.jpeg" width="250px" class="rounded-full" />
				</div>
			</div>
			<section id="projects">
				<h2 class="text-2xl font-semibold mb-5">
					{PAGECONTENT[lang].projectsTitle}
				</h2>
				<div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
					{
						PROJECTS.map((project) => (
							<Project
								title={project.title}
								image={project.image}
								description={project.description[lang]}
								codeUrl={project.codeUrl}
								demoUrl={project.demoUrl}
							/>
						))
					}
				</div>
			</section>
			<section id="contact" class="flex flex-col gap-4 items-center rounded-lg">
				<span
					class="bg-orange-100 border border-black px-2 rounded-xl text-sm font-semibold"
					>{PAGECONTENT[lang].contactSubtitle.toUpperCase()}</span
				>
				<h2 class="text-3xl text-center font-semibold mb-5">
					{PAGECONTENT[lang].contactTitle}
				</h2>
				<ul class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
					{
						CONTACTS.map((contact) => (
							<li>
								<a
									class="hover:scale-105 transition-transform gap-3 border-black border border-b-8 flex flex-col w-72 h-40 justify-center items-center rounded-lg"
									href={contact.url}
									target="_blank"
								>
									<div
										class={`w-fit ${contact.color} p-2 rounded-full border border-black`}
									>
										<Icon class="h-6" name={`simple-icons:${contact.icon}`} />
									</div>
									<p>{contact.user}</p>
								</a>
							</li>
						))
					}
				</ul>
			</section>
		</div>
	</main>
	<Footer />
</Layout>
